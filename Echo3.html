<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECOTrack - Transform Waste into Worth</title>
    <meta name="description" content="Join the green revolution with our comprehensive waste management platform. Track, reduce, and recycle your way to a sustainable future.">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Falling Leaves Animation */
        .falling-leaves-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .leaf {
            position: absolute;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #2d7d4a, #43a862);
            border-radius: 0 100% 0 100%;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }

        /* Theme-based leaf colors */
        [data-theme="light"] .leaf {
            background: linear-gradient(45deg, #2d7d4a, #43a862);
        }

        [data-theme="dark"] .leaf {
            background: linear-gradient(45deg, #1e5535, #2d7d4a);
        }

        [data-theme="forest"] .leaf {
            background: linear-gradient(45deg, #16a34a, #22c55e);
        }

        /* Waste Information Styles */
        .waste-info-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .waste-intro {
            background: var(--surface);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 3rem;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .waste-intro-content h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        .waste-intro-content p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .waste-image {
            width: 100%;
            max-width: 400px;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
        }

        .waste-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .comparison-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px var(--shadow);
        }

        .comparison-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .waste-type-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .comparison-card p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .comparison-card ul {
            list-style: none;
            padding-left: 0;
        }

        .comparison-card li {
            color: var(--text-secondary);
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .comparison-card li:before {
            content: "ğŸŒ¿ ";
            margin-right: 0.5rem;
        }

        .waste-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .waste-type-card {
            background: var(--surface);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .waste-type-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px var(--shadow);
        }

        .waste-card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .waste-type-card h4 {
            color: var(--primary);
            padding: 1rem 1rem 0.5rem;
            font-size: 1.3rem;
        }

        .waste-type-card p {
            color: var(--text-secondary);
            padding: 0 1rem 1rem;
            line-height: 1.6;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .waste-info-container {
                padding: 1rem;
            }
            
            .waste-intro {
                padding: 1.5rem;
            }
            
            .comparison-card {
                padding: 1.5rem;
            }
            
            .waste-types-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html" class="logo-link">
                <span class="logo-icon">ğŸŒ±</span>
                <span class="logo-text" data-testid="app-title">ECOTrack</span>
                </a>
            </div>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#" data-section="home" data-testid="nav-home">ğŸ <span class="nav-text">Home</span></a></li>
                <li><a href="#" data-section="waste-information" data-testid="nav-waste-information">ğŸ—‘ï¸<span class="nav-text">Waste Information</span></a></li>
                <li><a href="#" data-section="games" data-testid="nav-games">ğŸ®<span class="nav-text">Games</span></a></li>
                <li><a href="#" data-section="tracker" data-testid="nav-tracker">ğŸ“ˆ<span class="nav-text">Tracker</span></a></li>
                <li><a href="#" data-section="settings" data-testid="nav-settings">âš™ï¸<span class="nav-text">Settings</span></a></li>
            </ul>
        </div>
            
            <!-- Hamburger Menu Button -->
            <button class="hamburger" id="hamburger-menu" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
        
        <!-- Home Section -->
        <section class="section active" id="home-section" data-testid="home-section">
            <div class="hero">
                <div class="hero-content">
                    <h1 data-key="hero.title">Transform Waste into Worth</h1>
                    <p data-key="hero.description">Join the green revolution with our comprehensive waste management platform. Track, reduce, and recycle your way to a sustainable future.</p>
                    <button class="cta-button" data-section="tracker" data-testid="cta-start-tracking" data-key="hero.cta">Start Tracking</button>
                </div>
                <div class="hero-image">
                    ğŸŒ
                </div>
            </div>

            <!-- Eco Bot Container -->
            <div class="eco-bot-container">
                <div class="eco-bot" id="eco-bot">
                    <div class="robot-body">
                        <div class="robot-head">
                            <div class="robot-eyes">
                                <div class="eye left-eye"></div>
                                <div class="eye right-eye"></div>
                            </div>
                            <div class="robot-antenna"></div>
                        </div>
                        <div class="robot-chest">
                            <div class="robot-panel"></div>
                        </div>
                        <div class="robot-wheels">
                            <div class="wheel left-wheel"></div>
                            <div class="wheel right-wheel"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Bubble -->
                <div class="chat-bubble" id="chat-bubble">
                    <div class="chat-content">
                        <h4>ğŸ¤– Eco Bot</h4>
                        <p>Hi! I am Eco Bot, your waste disposal guide. Click me to learn about proper waste management!</p>
                    </div>
                    <div class="chat-arrow"></div>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">â™»ï¸</span>
                    <h3 data-key="features.recycling.title">Smart Recycling</h3>
                    <p data-key="features.recycling.description">Learn how to properly sort and recycle different materials with our intelligent guidance system.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ“Š</span>
                    <h3 data-key="features.analytics.title">Waste Analytics</h3>
                    <p data-key="features.analytics.description">Track your waste reduction progress with detailed analytics and environmental impact metrics.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ†</span>
                    <h3 data-key="features.rewards.title">Eco Rewards</h3>
                    <p data-key="features.rewards.description">Earn points for sustainable practices and redeem them for eco-friendly merchandise.</p>
                </div>
            </div>
            
            <!-- Eco Rewards Section -->
            <div class="eco-rewards-section">
                <div class="section-header">
                    <h2>Eco Rewards</h2>
                    <p>Complete tasks to earn virtual trophies</p>
                </div>
                
                <div class="rewards-grid">
                    <div class="reward-card" data-reward-id="1">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>First Steps</h3>
                        <p>Earn 50 points in any game</p>
                        <div class="reward-status">Locked</div>
                    </div>
                    <div class="reward-card" data-reward-id="2">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>Recycling Master</h3>
                        <p>Earn 100 points in the sorting game</p>
                        <div class="reward-status">Locked</div>
                    </div>
                    <div class="reward-card" data-reward-id="3">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>Memory Champion</h3>
                        <p>Earn 150 points in the memory game</p>
                        <div class="reward-status">Locked</div>
                    </div>
                    <div class="reward-card" data-reward-id="4">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>Matching Expert</h3>
                        <p>Earn 200 points in the matching game</p>
                        <div class="reward-status">Locked</div>
                    </div>
                    <div class="reward-card" data-reward-id="5">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>Eco Hero</h3>
                        <p>Earn 500 points across all games</p>
                        <div class="reward-status">Locked</div>
                    </div>
                    <div class="reward-card" data-reward-id="6">
                        <div class="reward-icon">ğŸ†</div>
                        <h3>Difficulty Master</h3>
                        <p>Complete all games on nightmare difficulty</p>
                        <div class="reward-status">Locked</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Info Section -->
        <!-- Waste Information Section -->
        <section class="section" id="waste-information-section" data-testid="waste-information-section">
            <div class="section-header">
                <h2>ğŸŒˆ Kids Waste Disposal Guide ğŸŒˆ</h2>
                <p>Learn about biodegradable and non-biodegradable waste through fun activities!</p>
            </div>

            <div class="waste-info-container">
                <!-- What is Waste Disposal -->
                <div class="waste-intro">
                    <div class="waste-intro-content">
                        <h3>ğŸŒ What is Waste Disposal, Kids? ğŸŒ</h3>
                        <p>Waste disposal is the process of managing and getting rid of waste materials in a safe, environmentally responsible manner. Proper waste disposal helps protect our environment, conserves natural resources, and prevents pollution of air, water, and soil.</p>
                        <img src="https://picsum.photos/seed/wastedisposal/400/300.jpg" alt="Waste Disposal Process" class="waste-image">
                    </div>
                </div>

                <!-- Biodegradable vs Non-Biodegradable -->
                <div class="waste-comparison">
                    <div class="comparison-card">
                        <h3>ğŸŒ± Biodegradable Waste</h3>
                        <img src="https://picsum.photos/seed/biodegradable/300/200.jpg" alt="Biodegradable Waste" class="waste-type-image">
                        <p>Biodegradable waste breaks down naturally through biological processes. This includes food scraps, yard waste, paper, and other organic materials that can be composted.</p>
                        <ul>
                            <li>Food scraps and leftovers</li>
                            <li>Yard trimmings and leaves</li>
                            <li>Paper and cardboard</li>
                            <li>Wood and natural fibers</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h3>âš™ï¸ Non-Biodegradable Waste</h3>
                        <img src="https://picsum.photos/seed/nonbiodegradable/300/200.jpg" alt="Non-Biodegradable Waste" class="waste-type-image">
                        <p>Non-biodegradable waste does not break down naturally and can persist in the environment for hundreds of years. These materials require special disposal or recycling methods.</p>
                        <ul>
                            <li>Plastics and synthetic materials</li>
                            <li>Metal and aluminum</li>
                            <li>Glass products</li>
                            <li>Electronic components</li>
                        </ul>
                    </div>
                </div>

                <!-- Waste Types Grid -->
                <div class="waste-types-grid">
                    <div class="waste-type-card">
                        <img src="https://picsum.photos/seed/generalwaste/250/180.jpg" alt="General Waste" class="waste-card-image">
                        <h4>ğŸ—‘ï¸ General Waste</h4>
                        <p>General waste includes non-recyclable household items that cannot be composted or recycled. This goes to landfills and should be minimized.</p>
                    </div>
                    
                    <div class="waste-type-card">
                        <img src="https://picsum.photos/seed/ewaste/250/180.jpg" alt="Electronic Waste" class="waste-card-image">
                        <h4>ğŸ’» Electronic Waste</h4>
                        <p>E-waste includes old computers, phones, batteries, and other electronic devices. These contain valuable materials and hazardous substances requiring special handling.</p>
                    </div>
                    
                    <div class="waste-type-card">
                        <img src="https://picsum.photos/seed/recyclable/250/180.jpg" alt="Recyclable Waste" class="waste-card-image">
                        <h4>â™»ï¸ Recyclable Waste</h4>
                        <p>Recyclable materials can be processed and used to create new products. This includes paper, plastic, glass, and metal that can be sorted and reprocessed.</p>
                    </div>
                    
                    <div class="waste-type-card">
                        <img src="https://picsum.photos/seed/organicwaste/250/180.jpg" alt="Organic Waste" class="waste-card-image">
                        <h4>ğŸŒ¿ Organic Waste</h4>
                        <p>Organic waste comes from plant and animal sources and can be composted. This includes food scraps, yard waste, and other biodegradable materials.</p>
                    </div>
                    
                    <div class="waste-type-card">
                        <img src="https://picsum.photos/seed/hazardous/250/180.jpg" alt="Hazardous Waste" class="waste-card-image">
                        <h4>â˜£ï¸ Hazardous Waste</h4>
                        <p>Hazardous waste contains harmful substances that can endanger human health or the environment. This includes chemicals, paints, batteries, and medical waste.</p>
                    </div>
                </div>
            </div>

            <!-- Falling Leaves Animation Container -->
            <div class="falling-leaves-container"></div>
        </section>

        <!-- Games Section -->
        <section class="section" id="games-section" data-testid="games-section">
            <div class="section-header">
                <h2 data-key="games.title">ğŸŒˆ Kids Eco-Friendly Games ğŸŒˆ</h2>
                <p data-key="games.subtitle">Learn about biodegradable & non-biodegradable waste while having fun!</p>
            </div>

            <div class="games-grid">
                <!-- Sorting Game -->
                <div class="game-card">
                    <span class="game-icon">ğŸ—‘ï¸</span>
                <!-- Biodegradable Sorting Game -->
                <div class="game-card colorful-card sorting-game">
                    <span class="game-icon">ğŸŒˆğŸ—‚ï¸</span>
                    <h3>Biodegradable Sorting ğŸŒ±</h3>
                    <p>Help sort biodegradable and non-biodegradable waste into colorful bins! Race against time and earn points!</p>
                    <div class="game-stats">
                        <span>â±ï¸ Time Challenge</span>
                        <span>ğŸ† Points System</span>
                    </div>
                    <button class="game-button rainbow-btn" id="biodegradable-sorting-btn">Play Now! ğŸ®</button>
                </div>
                
                <!-- Waste Matching Game -->
                <div class="game-card colorful-card matching-game">
                    <span class="game-icon">ğŸ¯ğŸ§©</span>
                    <h3>Waste Matching Game ğŸª</h3>
                    <p>Match waste items with their correct disposal categories! Perfect matches earn bonus points!</p>
                    <div class="game-stats">
                        <span>â±ï¸ Speed Bonus</span>
                        <span>ğŸ† Perfect Matches</span>
                    </div>
                    <button class="game-button rainbow-btn" id="waste-matching-btn">Start Game! ğŸš€</button>
                </div>
                
                <!-- Waste Spelling Game -->
                <div class="game-card colorful-card spelling-game">
                    <span class="game-icon">âœï¸ğŸ“</span>
                    <h3>Waste Word Spelling ğŸ“š</h3>
                    <p>Learn to spell important waste disposal words while earning points for each correct letter!</p>
                    <div class="game-stats">
                        <span>â±ï¸ Time Pressure</span>
                        <span>ğŸ† Letter Points</span>
                    </div>
                    <button class="game-button rainbow-btn" id="waste-spelling-btn">Play Game! ğŸŒŸ</button>
                </div>

                <!-- Waste Puzzle Game -->
                <div class="game-card colorful-card puzzle-game">
                    <span class="game-icon">ğŸ§©ğŸŒ</span>
                    <h3>Waste Disposal Puzzle ğŸ§©</h3>
                    <p>Solve fun puzzles about proper waste disposal! Challenge your brain and save the planet!</p>
                    <div class="game-stats">
                        <span>â±ï¸ Brain Challenge</span>
                        <span>ğŸ† Smart Solutions</span>
                    </div>
                    <button class="game-button rainbow-btn" id="waste-puzzle-btn">Play Game! ğŸ¯</button>
                </div>

                <!-- Waste Memory Game -->
                <div class="game-card colorful-card memory-game">
                    <span class="game-icon">ğŸ§ ğŸ²</span>
                    <h3>Waste Memory Game ğŸ®</h3>
                    <p>Test your memory by matching waste cards with their disposal methods! Can you find all pairs?</p>
                    <div class="game-stats">
                        <span>â±ï¸ Memory Test</span>
                        <span>ğŸ† Match Master</span>
                    </div>
                    <button class="game-button rainbow-btn" id="waste-memory-btn">Play Game! ğŸ†</button>
                </div>
                <div id="sorting-game" class="game-content">
                    <h3>Waste Sorting Challenge</h3>
                    <div class="difficulty-selector">
                        <label>Select Difficulty:</label>
                        <select id="sorting-difficulty">
                            <option value="easy">Easy</option>
                            <option value="normal">Normal</option>
                            <option value="hard">Hard</option>
                            <option value="nightmare">Nightmare</option>
                            <option value="impossible">Impossible</option>
                        </select>
                    </div>
                    <div class="timer-display">Time Left: <span id="sorting-timer">10:00</span></div>
                    <div class="game-info">
                        <p>Drag waste items to the correct bins. You have 60 seconds to sort as many items as possible!</p>
                        <div class="points-display">Points: <span id="sorting-points">0</span></div>
                    </div>
                    <div class="bins-container">
                        <div class="bin" data-bin-type="recyclable">
                            <h4>â™»ï¸ Recyclable</h4>
                        </div>
                        <div class="bin" data-bin-type="organic">
                            <h4>ğŸŒ± Organic</h4>
                        </div>
                        <div class="bin" data-bin-type="hazardous">
                            <h4>âš ï¸ Hazardous</h4>
                        </div>
                        <div class="bin" data-bin-type="general">
                            <h4>ğŸ—‘ï¸ General Waste</h4>
                        </div>
                    </div>
                    <div class="items-container" id="sorting-items">
                        <!-- Waste items will be generated here -->
                    </div>
                    <button class="reset-button" id="reset-sorting">Reset Game</button>
                </div>
                
                <!-- Matching Game Container -->
                <div id="matching-game" class="game-content">
                    <h3>Recycling Matching Game</h3>
                    <div class="difficulty-selector">
                        <label>Select Difficulty:</label>
                        <select id="matching-difficulty">
                            <option value="easy">Easy</option>
                            <option value="normal">Normal</option>
                            <option value="hard">Hard</option>
                            <option value="nightmare">Nightmare</option>
                            <option value="impossible">Impossible</option>
                        </select>
                    </div>
                    <div class="timer-display">Time Left: <span id="matching-timer">10:00</span></div>
                    <div class="game-info">
                        <p>Match waste items with their correct disposal method. Find all pairs to win!</p>
                        <div class="points-display">Points: <span id="matching-points">0</span></div>
                    </div>
                    <div class="matching-board" id="matching-board">
                        <!-- Matching cards will be generated here -->
                    </div>
                    <button class="reset-button" id="reset-matching">Reset Game</button>
                </div>
                
                <!-- Memory Game Container -->
                <div id="memory-game" class="game-content">
                    <h3>Eco Memory Game</h3>
                    <div class="difficulty-selector">
                        <label>Select Difficulty:</label>
                        <select id="memory-difficulty">
                            <option value="easy">Easy</option>
                            <option value="normal">Normal</option>
                            <option value="hard">Hard</option>
                            <option value="nightmare">Nightmare</option>
                            <option value="impossible">Impossible</option>
                        </select>
                    </div>
                    <div class="timer-display">Time Left: <span id="memory-timer">10:00</span></div>
                    <div class="game-info">
                        <p>Flip cards to find matching pairs. Complete the game with the least number of moves!</p>
                        <div class="points-display">Points: <span id="memory-points">0</span></div>
                    </div>
                    <div class="memory-board" id="memory-board">
                        <!-- Memory cards will be generated here -->
                    </div>
                    <button class="reset-button" id="reset-memory">Reset Game</button>
                </div>
               <!-- Game Container for Dynamic Game Content -->
               <div id="game-container" class="game-container"></div>
            </div>
        </section>

        <!-- Tracker Section -->
        <section class="section" id="tracker-section" data-testid="tracker-section">
            <div class="section-header">
                <h2 data-key="tracker.title">ğŸŒ± Kids Waste Tracker ğŸŒ±</h2>
                <p data-key="tracker.subtitle">Track your waste and help save the Earth!</p>
            </div>

            <div class="tracker-container">
                <!-- Waste Type Selection -->
                <div class="waste-type-selector">
                    <h3>ğŸ—‚ï¸ What type of waste is it?</h3>
                    <div class="waste-type-options">
                        <label class="waste-type-option">
                            <input type="radio" name="waste-type" value="biodegradable" checked>
                            <span class="waste-icon">ğŸƒ</span>
                            <span class="waste-label">Biodegradable</span>
                            <span class="waste-desc">(Like food scraps, paper)</span>
                        </label>
                        <label class="waste-type-option">
                            <input type="radio" name="waste-type" value="non-biodegradable">
                            <span class="waste-icon">ğŸ¥¤</span>
                            <span class="waste-label">Non-Biodegradable</span>
                            <span class="waste-desc">(Like plastic, metal)</span>
                        </label>
                    </div>
                </div>

                <!-- Image Drop Zone -->
                <div class="drop-zone-container">
                    <h3>ğŸ“¸ Take a picture of your waste!</h3>
                    <div id="drop-zone" class="drop-zone">
                        <div class="drop-zone-content">
                            <span class="drop-icon">ğŸ“·</span>
                            <p class="drop-text">Drag & drop your waste picture here</p>
                            <p class="drop-subtext">or click to browse</p>
                            <input type="file" id="file-input" accept="image/*" multiple>
                        </div>
                    </div>
                    <div id="image-preview" class="image-preview"></div>
                </div>

                <!-- Calculate Button -->
                <div class="calculate-section">
                    <button id="calculate-btn" class="fun-calculate-button" disabled>
                        <span class="btn-icon">ğŸ§®</span>
                        <span class="btn-text">Calculate My Waste!</span>
                    </button>
                    <p class="calc-info">âœ¨ You need to add a picture before calculating!</p>
                </div>

                <!-- Results Display -->
                <div id="results-display" class="results-display" style="display: none;">
                    <h3>ğŸŠ Your Waste Results! ğŸŠ</h3>
                    <div class="result-cards">
                        <div class="result-card">
                            <span class="result-icon">âš–ï¸</span>
                            <span class="result-label">Total Items:</span>
                            <span id="total-items" class="result-value">0</span>
                        </div>
                        <div class="result-card">
                            <span class="result-icon">ğŸŒ</span>
                            <span class="result-label">Earth Impact:</span>
                            <span id="earth-impact" class="result-value">Good!</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Section -->
            <div class="history-section">
                <h3>ğŸ“š Your Waste History ğŸ“š</h3>
                <div id="history-container" class="history-container">
                    <div class="empty-history">
                        <span class="empty-icon">ğŸŒŸ</span>
                        <p>No waste tracked yet. Start tracking to see your history!</p>
                    </div>
                </div>
                <button id="clear-history" class="clear-button" style="display: none;">
                    <span class="btn-icon">ğŸ—‘ï¸</span>
                    Clear All History
                </button>
            </div>
                        
                        <div class="input-group">
                            <label for="waste-amount">Average amount of waste per disposal (in kg):</label>
                            <input type="number" id="waste-amount" min="1" value="10">
                        </div>
                        
                        <div class="input-group">
                            <label for="waste-category">Waste Category:</label>
                            <select id="waste-category">
                                <option value="biodegradable">Biodegradable</option>
                                <option value="non-biodegradable">Non-Biodegradable</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="calculator-results">
                        <h4>Estimation Results</h4>
                        <div class="result-item">
                            <span>Daily Waste:</span>
                            <span id="daily-waste-result">0 kg</span>
                        </div>
                        <div class="result-item">
                            <span>Weekly Waste:</span>
                            <span id="weekly-waste-result">0 kg</span>
                        </div>
                        <div class="result-item">
                            <span>Monthly Waste:</span>
                            <span id="monthly-waste-result">0 kg</span>
                        </div>
                        <div class="result-item">
                            <span>Yearly Waste:</span>
                            <span id="yearly-waste-result">0 kg</span>
                        </div>
                        <div class="result-item category-info">
                            <span>Category Impact:</span>
                            <span id="category-impact-result">-</span>
                        </div>
                    </div>
                    
                    <button id="calculate-btn" class="calculate-button">Calculate</button>
                </div>
                
                <div class="tracker-cards">
                    <div class="tracker-card">
                        <span class="tracker-icon">ğŸ¯</span>
                        <h3 data-key="tracker.goals.title">Goals & Achievements</h3>
                        <p data-key="tracker.goals.description">Track your waste disposal activities and set goals for reduction. Complete tasks to earn eco-points and badges!</p>
                        <div class="task-tracker">
                            <h4>Tasks to Complete</h4>
                            <ul class="task-list">
                                <li class="task-item">
                                    <input type="checkbox" id="task1">
                                    <label for="task1">Dispose of waste properly 5 times this week</label>
                                </li>
                                <li class="task-item">
                                    <input type="checkbox" id="task2">
                                    <label for="task2">Sort recyclable waste from general waste</label>
                                </li>
                                <li class="task-item">
                                    <input type="checkbox" id="task3">
                                    <label for="task3">Compost organic waste at least once</label>
                                </li>
                                <li class="task-item">
                                    <input type="checkbox" id="task4">
                                    <label for="task4">Reduce overall waste by 10% this month</label>
                                </li>
                            </ul>
                        </div>
                        <button class="tracker-button" data-testid="button-set-goals" data-key="tracker.goals.button">Set New Goals</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        </section>

        <!-- Settings Section -->
        <section class="section" id="settings-section" data-testid="settings-section">
            <div class="section-header">
                <h2 data-key="settings.title" data-testid="settings-title">Settings</h2>
                <p data-key="settings.subtitle" data-testid="settings-subtitle">Customize your ECOTrack experience</p>
            </div>

            <div class="settings-grid">
                <!-- Theme Selection -->
                <div class="settings-card" data-testid="theme-settings">
                    <span class="settings-icon">ğŸ¨</span>
                    <h3 data-key="settings.theme.title">Choose Theme</h3>
                    <div class="theme-options">
                        <div class="theme-option light-theme" data-testid="theme-light" data-theme="light">
                            <span class="theme-name" data-key="settings.theme.light">Light</span>
                        </div>
                        <div class="theme-option dark-theme" data-testid="theme-dark" data-theme="dark">
                            <span class="theme-name" data-key="settings.theme.dark">Dark</span>
                        </div>
                        <div class="theme-option forest-theme" data-testid="theme-forest" data-theme="forest">
                            <span class="theme-name" data-key="settings.theme.forest">Forest</span>
                        </div>
                        <div class="theme-option ocean-theme" data-testid="theme-ocean" data-theme="ocean">
                            <span class="theme-name" data-key="settings.theme.ocean">Ocean</span>
                        </div>
                        <div class="theme-option sunset-theme" data-testid="theme-sunset" data-theme="sunset">
                            <span class="theme-name" data-key="settings.theme.sunset">Sunset</span>
                        </div>
                    </div>
                    <p data-key="settings.theme.description">Choose from our collection of beautiful themes to personalize your ECOTrack experience.</p>
                </div>

                <!-- Audio Controls -->

                <!-- Language Selection -->
                <div class="settings-card" data-testid="language-settings">
                    <span class="settings-icon">ğŸŒ</span>
                    <h3 data-key="settings.language.title">Language / Idioma</h3>
                    <div class="language-options">
                        <button class="language-option" data-testid="language-en" data-language="en">
                            <span class="flag">ğŸ‡ºğŸ‡¸</span>
                            <div class="language-info">
                                <div class="language-name">English</div>
                                <div class="language-region">United States</div>
                            </div>
                        </button>
                        <button class="language-option" data-testid="language-fil" data-language="fil">
                            <span class="flag">ğŸ‡µğŸ‡­</span>
                            <div class="language-info">
                                <div class="language-name">Filipino</div>
                                <div class="language-region">Pilipinas</div>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Notifications -->
                <div class="settings-card">
                    <span class="settings-icon">ğŸ””</span>
                    <h3 data-key="settings.notifications.title">Notifications</h3>
                    <p data-key="settings.notifications.description">Manage your notification preferences for reminders, achievements, and weekly reports.</p>
                    <button class="settings-button" data-testid="button-configure-notifications" data-key="settings.notifications.button">Configure Notifications</button>
                </div>

                <!-- Privacy -->
                <div class="settings-card">
                    <span class="settings-icon">ğŸ“Š</span>
                    <h3 data-key="settings.settings.privacy.title">Data & Privacy</h3>
                    <p data-key="settings.privacy.description">Control your data sharing preferences and privacy settings for a personalized experience.</p>
                    <button class="settings-button" data-testid="button-privacy-settings" data-key="settings.privacy.button">Privacy Settings</button>
                </div>
            </div>
        </section>

    </main>

    <!-- Notification -->
    <div class="notification" id="notification"></div>


    <script>
        // Falling Leaves Animation
        function createFallingLeaves() {
            const container = document.querySelector(".falling-leaves-container");
            if (!container) return;
            
            // Clear existing leaves
            container.innerHTML = "";
            
            // Create leaves
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const leaf = document.createElement("div");
                    leaf.className = "leaf";
                    
                    // Random position
                    leaf.style.left = Math.random() * 100 + "%";
                    
                    // Random animation duration
                    const duration = 8 + Math.random() * 12;
                    leaf.style.animationDuration = duration + "s";
                    
                    // Random delay
                    leaf.style.animationDelay = Math.random() * 5 + "s";
                    
                    // Random size
                    const size = 15 + Math.random() * 10;
                    leaf.style.width = size + "px";
                    leaf.style.height = size + "px";
                    
                    container.appendChild(leaf);
                }, i * 300);
            }
        }

        // Initialize falling leaves when waste information section is shown
        function initWasteInformationSection() {
            const wasteInfoSection = document.getElementById("waste-information-section");
            if (!wasteInfoSection) return;
            
            // Create observer to detect when section becomes visible
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        createFallingLeaves();
                    }
                });
            }, { threshold: 0.1 });
            
            observer.observe(wasteInfoSection);
        }

        // Update falling leaves when theme changes
        function updateLeavesForTheme() {
            const leaves = document.querySelectorAll(".leaf");
            leaves.forEach(leaf => {
                // Force re-render to apply new theme colors
                leaf.style.display = "none";
                setTimeout(() => {
                    leaf.style.display = "";
                }, 10);
            });
        }

        // Initialize when DOM is loaded
        document.addEventListener("DOMContentLoaded", function() {
            initWasteInformationSection();
            
            // Listen for theme changes
            const themeButtons = document.querySelectorAll("[data-theme]");
            themeButtons.forEach(button => {
                button.addEventListener("click", function() {
                    setTimeout(updateLeavesForTheme, 100);
                });
            });
        });
    </script>
    <script src="script.js"></script>
    <script src="ecobot.js"></script>
       <script src="script waste info.js"></script>
       <script src="kids game.js"></script>
          <script src="waste_tracker_functionality.js"></script>
          <script src="enhanced-calculator.js"></script>
<script src="complete-translations.js"></script>
<script src="filipino-translations.js"></script>

<script type="module" defer>
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAvblGiAIZ26bIbtw6cSv9kfgzSiYyq_10",
            authDomain: "registar-5f3fb.firebaseapp.com",
            projectId: "registar-5f3fb",
            storageBucket: "registar-5f3fb.firebasestorage.app",
            messagingSenderId: "856198150739",
            appId: "1:856198150739:web:801000f564b47f6333e4a6"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // ğŸ”’ Protect page: only verified students
        onAuthStateChanged(auth, async (user) => {
            if (!user) {
            window.location.href = "index.html";
            return;
            }

            try {
            const studentDoc = await getDoc(doc(db, "students", user.uid));
            if (!studentDoc.exists()) {
                await signOut(auth);
                window.location.href = "index.html";
                return;
            }

            const studentData = studentDoc.data();
            if (!studentData.verified) {
                alert("Your account has not been verified by a teacher yet. Please wait for verification.");
                await signOut(auth);
                window.location.href = "index.html";
                return;
            }

            console.log("âœ… Verified student access granted:", studentData.name);
            } catch (err) {
            console.error(err);
            await signOut(auth);
            window.location.href = "index.html";
            }
        });
    </script>

</body>
</html>